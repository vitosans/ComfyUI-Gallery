<!-- This file gets loaded by ComfyUI -->
<script>
    console.log('Gallery Button HTML Loader');
    
    // Load our button script directly
    const script = document.createElement('script');
    script.src = '/extensions/ComfyUI-Gallery/web/js/gallery-button.js';
    script.onload = function() {
        console.log('Gallery button script loaded successfully');
    };
    script.onerror = function() {
        console.error('Failed to load gallery button script from main path');
        
        // Try alternate path
        const altScript = document.createElement('script');
        altScript.src = './web/js/gallery-button.js';
        document.head.appendChild(altScript);
    };
    document.head.appendChild(script);
    
    // Add a fallback inline script just in case
    setTimeout(function() {
        if (!document.getElementById('comfyui-gallery-button')) {
            console.log('Fallback: creating button directly from HTML');
            
            const button = document.createElement('button');
            button.id = 'comfyui-gallery-button-fallback';
            button.textContent = 'Gallery';
            button.style.backgroundColor = '#e74c3c';
            button.style.color = 'white';
            button.style.border = 'none';
            button.style.padding = '8px 15px';
            button.style.borderRadius = '4px';
            button.style.cursor = 'pointer';
            button.style.fontSize = '14px';
            button.style.fontWeight = 'bold';
            button.style.position = 'fixed';
            button.style.top = '20px';
            button.style.right = '20px';
            button.style.zIndex = '10000';
            
            button.onclick = function() {
                alert('Gallery Button clicked! (Fallback version)');
            };
            
            document.body.appendChild(button);
        }
    }, 4000);
</script>